{"mappings":"AAAA,SAASA,EAAGC,GAAK,OAAOC,SAASC,cAAcF,EAAG,CAClD,SAASG,GAAIH,GAAK,MAAO,IAAIC,SAASG,iBAAiBJ,GAAI,CAC3D,SAASK,GAAIC,GAAK,MAAO,GAAGA,KAAM,CAClC,MAAMC,KAAO,GACb,SAASC,OAAQC,GACfC,QAAQF,OAAOC,GACfF,KAAKI,KAAKF,EACZ,CAEA,MAAMG,KAAOX,SAASY,gBAChBC,MAAQb,SAASc,KACjBC,QAAUjB,EAAE,WACZkB,MAAQlB,EAAE,QACVmB,UAAYf,GAAG,iBAErB,IAAIgB,WACJ,SAASC,WACP,MAAQC,aAAcC,GAAiBN,QAGvCJ,KAAKW,MAAMC,YAAY,cAAenB,GAAGiB,IAEzCV,KAAKW,MAAMC,YAAY,WAAY,2BAA4BnB,GAAGiB,QAClEH,WAAaM,SAASC,iBAAiBd,MAAMe,OAC/C,CACAP,WACAQ,OAAOC,iBAAiB,SAAUT,UAElC,MAAMU,cAAgB,C,CAAG,SAAU,UAK7BC,OAAS5B,GAAG,kBAIlB,SAAS6B,aAAcC,GACrB,MAAMC,UAAEA,GAAcjB,MAChBkB,EAASL,cAAcM,KAAKC,MAAMH,EAAYf,aACpDY,OAAOO,SAAQC,IACbA,EAAIC,UAAUC,OAAO,WAAYF,EAAIG,aAAa,UAAYP,EAAA,GAElE,CATAJ,OAAOO,SAAQC,GAAOA,EAAIV,iBAAiB,SAASI,GAAKU,WAAWX,aAAc,SAElFf,MAAMY,iBAAiB,SAAUG,cAQjCW,WAAWX,aAAc,KAExB,WACC,MAAMY,EAAYzC,GAAG,qBAEf0C,EAAYjB,OAAOkB,aAAaC,QAAQ,QAW9C,SAASC,EAASC,EAAMC,GACtBjD,SAASY,gBAAgBsC,aAAa,OAAQF,GAE1CC,GACFtB,OAAOkB,aAAaM,QAAQ,OAAQH,EACxC,CAdIJ,EACFG,EAAQH,GACDQ,UAAUC,SAASC,WAAW,OACrCP,EAAQ,MAEVJ,EAAUN,SAAQkB,IAChBA,EAAK3B,iBAAiB,SAASI,GAAKe,EAAQQ,EAAKC,QAAQC,OAAO,IAAI,GASxE,CApBC,GAsBA,WACC,IAAIC,EAAS,EACbxD,GAAG,cAAcmC,SAAQC,GACvBA,EAAIV,iBAAiB,SAASI,KAAQ0B,EAAS,GAGjD,WACE,IAAIC,EAAUrD,KAAKsD,KAAIrD,GAAOA,EAAIqD,KAAIC,GAAKC,KAAKC,UAAUF,OAAKG,KAAK,MACpE,MAAM1B,EAAMxC,EAAE,UACdwC,EAAIhB,MAAM2C,QAAU,GACpBnE,EAAE,SAASoE,YAAcP,CAC3B,CARuDQ,MASzD,CAZC","sources":["src/main.js"],"sourcesContent":["function $ (s) { return document.querySelector(s) }\nfunction $$ (s) { return [...document.querySelectorAll(s)] }\nfunction px (v) { return `${v}px` }\nconst logs = [];\nfunction log (...args) {\n  console.log(...args)\n  logs.push(args);\n}\n\nconst $doc = document.documentElement;\nconst $root = document.body;\nconst $topbar = $('.Topbar');\nconst $main = $('main');\nconst $sections = $$('.Main section');\n\nlet mainHeight;\nfunction onResize () {\n  const { offsetHeight: topbarHeight } = $topbar;\n  // const mainHeight = window.outerHeight - topbarHeight;\n  // log({mainHeight, topbarHeight})\n  $doc.style.setProperty('--topbar-dh', px(topbarHeight));\n  // $doc.style.setProperty('--main-h', px(mainHeight));\n  $doc.style.setProperty('--main-h', `max(500px, calc(100vh - ${ px(topbarHeight) }))`);\n  mainHeight = parseInt(getComputedStyle($doc).height);\n}\nonResize();\nwindow.addEventListener('resize', onResize);\n\nconst scrollAnchors = [, '/#info', '/#team'];\n// const scrollMap = new Map();\n// scrollMap.set($('#info'), $('a[href=\"/#info\"]'));\n// scrollMap.set($('#team'), $('a[href=\"/#team\"]'));\n\nconst $links = $$('.Topbar__nav a');\n$links.forEach($el => $el.addEventListener('click', e => setTimeout(onMainScroll, 1e3)));\n\n$main.addEventListener('scroll', onMainScroll);\nfunction onMainScroll (e) {\n  const { scrollTop } = $main;\n  const elHref = scrollAnchors[Math.round(scrollTop / mainHeight)];\n  $links.forEach($el => {\n    $el.classList.toggle('--active', $el.getAttribute('href') === elHref);\n  });\n}\nsetTimeout(onMainScroll, 1e3);\n\n(function Langs () {\n  const $langBtns = $$('.Topbar__langs li')\n\n  const localLang = window.localStorage.getItem('lang');\n\n  if (localLang)\n    setLang(localLang);\n  else if (navigator.language.startsWith('ge')) // isGeorgian\n    setLang('ge');\n\n  $langBtns.forEach($btn => {\n    $btn.addEventListener('click', e => setLang($btn.dataset.value, true));\n  });\n\n  function setLang (lang, userly) {\n    document.documentElement.setAttribute('lang', lang);\n\n    if (userly)\n      window.localStorage.setItem('lang', lang);\n  }\n})();\n\n(function Debug () {\n  let clicks = 0;\n  $$('.debug-btn').forEach($el =>\n    $el.addEventListener('click', e => (++clicks > 5) && openDebug())\n  );\n\n  function openDebug () {\n    let content = logs.map(log => log.map(d => JSON.stringify(d))).join('\\n');\n    const $el = $('#debug');\n    $el.style.display = '';\n    $('#logs').textContent = content;\n  }\n})();"],"names":["$","s","document","querySelector","$$","querySelectorAll","px","v","logs","log","args","console","push","$doc","documentElement","$root","body","$topbar","$main","$sections","mainHeight","onResize","offsetHeight","topbarHeight","style","setProperty","parseInt","getComputedStyle","height","window","addEventListener","scrollAnchors","$links","onMainScroll","e","scrollTop","elHref","Math","round","forEach","$el","classList","toggle","getAttribute","setTimeout","$langBtns","localLang","localStorage","getItem","setLang","lang","userly","setAttribute","setItem","navigator","language","startsWith","$btn","dataset","value","clicks","content","map","d","JSON","stringify","join","display","textContent","openDebug"],"version":3,"file":"index.e9b35b5c.js.map"}